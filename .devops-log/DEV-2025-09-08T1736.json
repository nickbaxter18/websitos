{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "DevOpsLog",
  "type": "object",
  "properties": {
    "build": {
      "type": "object",
      "properties": {
        "status": { "type": "string", "enum": ["pass", "fail"] },
        "durationSec": { "type": "number", "minimum": 0 }
      },
      "required": ["status", "durationSec"],
      "additionalProperties": false
    },
    "container": {
      "type": "object",
      "properties": {
        "scan": { "type": "string", "enum": ["pass", "fail"] },
        "cves": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["scan", "cves"],
      "additionalProperties": false
    },
    "deploy": {
      "type": "object",
      "properties": {
        "status": { "type": "string", "enum": ["success", "rollback"] },
        "strategy": { "type": "string", "enum": ["canary", "bluegreen", "standard"] }
      },
      "required": ["status", "strategy"],
      "additionalProperties": false
    },
    "monitor": {
      "type": "object",
      "properties": {
        "health": { "type": "string", "enum": ["ok", "degraded", "down"] }
      },
      "required": ["health"],
      "additionalProperties": false
    }
  },
  "required": ["build", "container", "deploy", "monitor"],
  "additionalProperties": false
}

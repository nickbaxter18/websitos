#!/bin/sh

STAGED_FILES=$(git diff --cached --name-only)

# Skip checks if only GitHub workflow files are staged
if echo "$STAGED_FILES" | grep -qE '(^|/)\.github/workflows/'; then
  echo "[Husky] Skipping lint-staged for workflow-only commit"
  exit 0
fi

# Otherwise run lint-staged (which runs prettier + eslint)
npx lint-staged